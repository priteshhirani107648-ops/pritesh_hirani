<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Portal | Pritesh Hirani</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîê</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="cursor-dot"></div><div class="cursor-outline"></div>
<canvas id="network" style="opacity: 0.4;"></canvas>

<nav id="navbar">
    <div><b>Pritesh.SYS <span class="emoji">üîê</span></b></div>
    <div>
        <a href="blog.html" class="nav-link"><i class="fa-solid fa-arrow-left"></i> Back to Blog</a>
    </div>
</nav>

<div class="admin-container">
    <h1 class="section-title decode-text" data-value="Write_Transmission" style="margin-bottom: 40px; font-size: 2.5rem;">Write_Transmission</h1>
    
    <form id="blogForm">
        <div class="form-group">
            <label>Transmission Title</label>
            <input type="text" id="b-title" class="form-control" placeholder="e.g., Mastering Routing Congestion" required>
        </div>
        
        <div class="form-group" style="display: flex; gap: 20px;">
            <div style="flex: 1;">
                <label>Category</label>
                <input type="text" id="b-category" class="form-control" placeholder="e.g., VLSI / EDA" required>
            </div>
            <div style="flex: 1;">
                <label>Icon Class (FontAwesome)</label>
                <input type="text" id="b-icon" class="form-control" placeholder="e.g., fa-microchip" required>
            </div>
        </div>

        <div class="form-group">
            <label>Short Excerpt (Shows on Card)</label>
            <textarea id="b-excerpt" class="form-control" placeholder="A brief summary of the article..." required></textarea>
        </div>

        <div class="form-group">
            <label>Full Content (HTML Allowed)</label>
            <textarea id="b-content" class="form-control" style="min-height: 250px;" placeholder="<p>Write your full blog post here...</p>" required></textarea>
        </div>

        <button type="submit" class="btn magnetic" style="width: 100%; margin-top: 10px; cursor: none;">
            <i class="fa-solid fa-upload"></i> Upload to Network
        </button>
    </form>
</div>

<script src="script.js" defer></script>
<script>
    // Logic to save blogs to LocalStorage
    document.getElementById('blogForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get values
        const title = document.getElementById('b-title').value;
        const category = document.getElementById('b-category').value.toUpperCase();
        const icon = document.getElementById('b-icon').value;
        const excerpt = document.getElementById('b-excerpt').value;
        const content = document.getElementById('b-content').value;
        
        // Generate Date
        const dateObj = new Date();
        const options = { month: 'short', day: 'numeric', year: 'numeric' };
        const dateStr = dateObj.toLocaleDateString('en-US', options).toUpperCase();

        const newBlog = {
            id: Date.now(),
            title: title,
            date: dateStr,
            category: category,
            icon: icon,
            excerpt: excerpt,
            content: content
        };

        // Fetch existing blogs or create empty array
        let blogs = JSON.parse(localStorage.getItem('pritesh_blogs')) || [];
        blogs.unshift(newBlog); // Add new blog to the beginning

        // Save back to storage
        localStorage.setItem('pritesh_blogs', JSON.stringify(blogs));

        alert("Transmission Uploaded Successfully!");
        this.reset();
    });
</script>
</body>
</html>