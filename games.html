<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulators | Pritesh Hirani</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÆ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <style>
        /* ================= MASTER OVERFLOW FIX ================= */
        *, *::before, *::after { box-sizing: border-box; }

        /* ================= SHARED UI STYLES ================= */
        .games-header { text-align: center; padding: 180px 10% 60px; transition: 0.3s; }
        .game-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; padding: 0 5% 100px; max-width: 1200px; margin: 0 auto; }
        
        /* FIX: Start Button Center Clickable Area */
        .card { position: relative; display: flex; flex-direction: column; justify-content: space-between; height: 100%; }
        .card i, .card h3, .card p { pointer-events: none; } 
        .card .btn { position: relative; z-index: 10; pointer-events: all; width: 100%; margin-top: auto; }

        .module-container { display: none; padding: 0 5% 100px; width: 100%; max-width: 1000px; margin: 0 auto; animation: slideUp 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        .quiz-hud { background: rgba(15, 23, 42, 0.95); border: 2px solid var(--accent-1); border-radius: 24px; padding: 30px; position: relative; backdrop-filter: blur(20px); box-shadow: 0 0 40px rgba(0, 240, 255, 0.15); width: 100%; overflow: hidden; }
        .hud-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid rgba(0, 240, 255, 0.2); padding-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .stop-btn { background: transparent; border: 1px solid var(--accent-3); color: var(--accent-3); padding: 8px 15px; border-radius: 8px; font-family: 'Space Mono'; font-size: 0.8rem; transition: 0.3s; cursor: pointer; white-space: nowrap; flex-shrink: 0; }
        .stop-btn:hover { background: rgba(255, 0, 127, 0.1); box-shadow: 0 0 15px var(--accent-3); }
        .quiz-action-btns { display: flex; gap: 15px; margin-top: 30px; width: 100%; }
        .quiz-action-btns .btn { flex: 1; margin: 0; }

        /* ================= GUI ECO STYLES (SCROLLABLE) ================= */
        .eco-stats { display: flex; gap: 10px; font-family: 'Space Mono'; flex-wrap: wrap; width: 100%; }
        .eco-stat-box { background: rgba(0,0,0,0.5); padding: 8px 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); flex: 1; text-align: center; min-width: 100px; font-size: 0.85rem; }
        .eco-slack-alert { animation: pulseRed 1.5s infinite; color: var(--accent-3) !important; font-weight: bold; }
        @keyframes pulseRed { 0% { text-shadow: 0 0 5px var(--accent-3); } 50% { text-shadow: 0 0 20px var(--accent-3); } 100% { text-shadow: 0 0 5px var(--accent-3); } }

        .eco-schematic { 
            display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; align-items: center; 
            background: rgba(0, 240, 255, 0.02); border: 1px dashed rgba(0,240,255,0.2); border-radius: 15px; 
            padding: 20px; margin: 15px 0; overflow-x: auto; -webkit-overflow-scrolling: touch; gap: 5px; 
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }
        .eco-schematic::-webkit-scrollbar { height: 8px; }
        .eco-schematic::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); border-radius: 4px; }
        .eco-schematic::-webkit-scrollbar-thumb { background: var(--accent-1); border-radius: 4px; }

        .eco-flop { background: rgba(255,255,255,0.1); border: 2px solid white; color: white; padding: 15px 10px; border-radius: 8px; font-family: 'Space Mono'; font-weight: bold; font-size: 0.8rem; text-align: center; flex-shrink: 0; }
        .eco-node-wrapper { display: flex; flex-direction: row; align-items: center; flex-shrink: 0; position: relative; }
        
        .eco-wire { width: 40px; height: 6px; background: rgba(0,240,255,0.4); cursor: pointer; transition: 0.2s; display: flex; justify-content: space-evenly; align-items: center; border-radius: 3px; position: relative; }
        .eco-wire:hover { background: var(--accent-1); box-shadow: 0 0 10px var(--accent-1); }
        
        /* FIX: Larger Buffer for easier mobile tapping */
        .eco-buffer { background: var(--accent-2); width: 16px; height: 16px; border-radius: 50%; border: 1px solid white; box-shadow: 0 0 10px var(--accent-2); position: relative; z-index: 5; cursor: pointer; transition: 0.2s; }
        .eco-buffer:hover { transform: scale(1.2); }

        .eco-gate { background: rgba(15, 23, 42, 0.9); border: 2px solid var(--accent-1); padding: 10px 5px; border-radius: 12px; font-family: 'Space Mono'; text-align: center; width: 90px; cursor: pointer; transition: 0.3s; box-shadow: 0 0 15px rgba(0,240,255,0.1); flex-shrink: 0; }
        .eco-gate:hover { transform: translateY(-5px); border-color: white; box-shadow: 0 0 20px rgba(255,255,255,0.3); }
        .eco-gate.active { border-color: var(--accent-2); box-shadow: 0 0 25px var(--accent-2); background: rgba(255,0,127,0.1); transform: translateY(-5px); }
        .gate-title { font-size: 0.8rem; font-weight: bold; color: white; margin-bottom: 5px; word-wrap: break-word; }
        .gate-specs { font-size: 0.65rem; color: var(--accent-1); display: flex; flex-direction: column; gap: 2px; }
        .spec-vt { color: #f1c40f; font-weight: bold; }

        /* ECO INSPECTOR PANEL */
        .eco-inspector { background: rgba(0,0,0,0.8); border: 1px solid var(--accent-2); border-radius: 15px; padding: 15px; margin-top: 15px; display: none; animation: slideUp 0.3s ease; }
        .eco-inspector.visible { display: block; }
        .insp-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; flex-wrap: wrap; gap: 10px; }
        .insp-label { font-family: 'Space Mono'; color: var(--text-secondary); font-size: 0.85rem; }
        .insp-btn-group { display: flex; gap: 5px; flex-wrap: wrap; }
        .insp-btn { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: white; padding: 6px 10px; border-radius: 6px; font-family: 'Space Mono'; font-size: 0.75rem; cursor: pointer; transition: 0.2s; }
        .insp-btn:hover { background: rgba(255,255,255,0.1); }
        .insp-btn.active { background: var(--accent-2); border-color: white; font-weight: bold; }

        /* ================= ROUTING & FLOORPLAN CSS ================= */
        .routing-workspace { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .routing-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px; background: rgba(0, 240, 255, 0.05); border: 2px solid var(--accent-1); padding: 8px; border-radius: 12px; width: 100%; max-width: 350px; aspect-ratio: 1; margin: 0 auto; }
        .route-cell { background: rgba(0,0,0,0.6); border: 1px solid rgba(0, 240, 255, 0.2); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-family: 'Space Mono'; font-size: 1rem; font-weight: bold; color: white; transition: 0.2s ease; cursor: pointer; }
        .route-cell.start { background: var(--accent-2); box-shadow: 0 0 15px var(--accent-2); border-color: white; }
        .route-cell.end { background: #2ecc71; box-shadow: 0 0 15px #2ecc71; border-color: white; }
        .route-cell.obstacle { background: var(--accent-3); background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(0,0,0,0.5) 5px, rgba(0,0,0,0.5) 10px); border-color: var(--accent-3); cursor: not-allowed; }
        .route-cell.path { background: var(--accent-1); box-shadow: 0 0 10px var(--accent-1); border-color: white; }
        .route-cell.head { border: 3px solid white; transform: scale(1.05); }

        .quiz-timer-container { position: relative; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .timer-svg { width: 60px; height: 60px; transform: rotate(-90deg); }
        .timer-circle-bg { fill: none; stroke: rgba(255, 255, 255, 0.1); stroke-width: 4; }
        .timer-circle-prog { fill: none; stroke: var(--accent-1); stroke-width: 4; stroke-dasharray: 176; stroke-dashoffset: 0; transition: 1s linear; }
        .timer-text { position: absolute; font-family: 'Space Mono', monospace; font-size: 1rem; color: var(--accent-1); }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .option-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 16px; color: var(--text-secondary); text-align: left; transition: 0.3s; font-size: 1rem; cursor: pointer; }
        .option-card:hover { background: rgba(0, 240, 255, 0.05); border-color: var(--accent-1); color: #fff; transform: translateY(-5px); }
        .option-card.correct { background: rgba(46, 204, 113, 0.15) !important; border-color: #2ecc71 !important; color: #2ecc71 !important; }
        .option-card.wrong { background: rgba(231, 76, 60, 0.15) !important; border-color: #e74c3c !important; color: #e74c3c !important; }

        #chip-core { width: 100%; max-width: 400px; height: 400px; border: 2px solid var(--accent-1); position: relative; background: #000; overflow: hidden; background-image: linear-gradient(rgba(0, 240, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 240, 255, 0.1) 1px, transparent 1px); background-size: 20px 20px; margin: 0 auto; }
        .macro { background: var(--accent-2); border: 1px solid #fff; color: white; font-family: 'Space Mono'; font-size: 0.65rem; display: flex; align-items: center; justify-content: center; cursor: grab; z-index: 10; }
        .macro-overlap { background: var(--accent-3) !important; box-shadow: 0 0 20px var(--accent-3); border-color: white !important; }
        #macro-side-panel { width: 100%; max-width: 220px; padding: 20px; background: rgba(0,0,0,0.4); border: 1px solid rgba(0,240,255,0.2); border-radius: 15px; height: 400px; display: flex; flex-direction: column; }

        /* ================= MISSION MODALS ================= */
        .mission-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(7, 9, 15, 0.95); backdrop-filter: blur(15px); display: flex; align-items: center; justify-content: center; z-index: 10000; opacity: 0; visibility: hidden; transition: 0.5s ease; padding: 15px; box-sizing: border-box; }
        .mission-modal-overlay.active { opacity: 1; visibility: visible; }
        .mission-modal { background: rgba(15, 23, 42, 0.95); border: 1px solid var(--accent-1); width: 100%; max-width: 400px; padding: 40px 30px; text-align: center; position: relative; transform: scale(0.8) translateY(30px); transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 0 60px rgba(0, 240, 255, 0.2); box-sizing: border-box; }
        .mission-modal-overlay.active .mission-modal { transform: scale(1) translateY(0); }
        .mission-icon { font-size: 4rem; color: var(--accent-1); margin-bottom: 20px; filter: drop-shadow(0 0 10px var(--accent-1)); }
        .mission-stats { display: flex; justify-content: space-around; background: rgba(255, 255, 255, 0.03); padding: 15px; border-radius: 12px; margin-bottom: 25px; border: 1px solid rgba(255, 255, 255, 0.05); }
        .stat-item { display: flex; flex-direction: column; gap: 5px; }
        .stat-label { font-family: 'Space Mono'; font-size: 0.7rem; color: var(--text-secondary); }
        .stat-value { font-family: 'Space Mono'; font-size: 1.2rem; color: var(--accent-1); font-weight: bold; }
        .hud-corner { position: absolute; width: 15px; height: 15px; border: 2px solid var(--accent-1); }
        .c-tl { top: -2px; left: -2px; border-right: none; border-bottom: none; }
        .c-tr { top: -2px; right: -2px; border-left: none; border-bottom: none; }
        .c-bl { bottom: -2px; left: -2px; border-right: none; border-top: none; }
        .c-br { bottom: -2px; right: -2px; border-left: none; border-top: none; }
        
        .modal-action-btns { display: flex; flex-direction: column; gap: 10px; width: 100%; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

        /* ================= MOBILE UI OVERRIDES ================= */
        @media (max-width: 850px) {
            .module-container { padding: 15px 5% !important; margin-top: 0 !important; }
            .quiz-hud { padding: 15px !important; border-radius: 15px; }
            .hud-top { flex-direction: row !important; align-items: center !important; margin-bottom: 15px !important; padding-bottom: 10px !important; }
            .quiz-timer-container { transform: scale(0.7); transform-origin: left center; margin: -10px 0; }
            .stop-btn { padding: 8px 12px; font-size: 0.7rem; }
            
            .quiz-action-btns { flex-direction: row !important; gap: 10px !important; margin-top: 15px !important; }
            .quiz-action-btns .btn { width: 100% !important; padding: 12px !important; font-size: 0.85rem !important; }

            .options-grid { grid-template-columns: 1fr; gap: 8px !important; }
            
            .workspace-flex { flex-direction: column !important; align-items: center !important; gap: 10px !important; }
            #chip-core { width: 300px !important; height: 300px !important; }
            #macro-side-panel { width: 100% !important; max-width: 320px !important; height: auto !important; padding: 10px !important; margin-bottom: 15px; }
            #macro-side-panel > div:first-child { width: 100%; margin-bottom: 10px; }
            #macro-lib { flex-direction: row !important; flex-wrap: wrap !important; justify-content: center !important; gap: 10px !important; flex: none !important; min-height: 170px !important; overflow: visible !important; }
            
            .eco-stat-box { font-size: 0.75rem; padding: 8px; min-width: 45%; }
            .eco-schematic { padding: 15px; gap: 5px; }
            .eco-flop { width: auto; padding: 10px; font-size: 0.75rem; }
            .eco-gate { width: 80px; padding: 8px 4px; }
            .eco-wire { width: 25px; }
            .insp-btn { padding: 6px; font-size: 0.7rem; }
        }

        @media (max-width: 380px) {
            #chip-core { width: 270px !important; height: 270px !important; }
            .eco-gate { width: 70px; }
            .eco-wire { width: 20px; }
        }
    </style>
</head>
<body>

<div id="sim-loader"><div class="loader-terminal"><div id="loader-msg">> Initializing_Simulation...</div><div class="loader-bar-bg"><div class="loader-bar-fill" id="sim-progress"></div></div><div style="margin-top: 10px; font-size: 0.7rem; opacity: 0.6;" id="loader-submsg">Accessing Core...</div></div></div>
<div class="cursor-dot"></div><div class="cursor-outline"></div><canvas id="network" style="opacity: 0.4;"></canvas>

<nav id="navbar">
    <a href="index.html" class="logo-link" style="text-decoration: none;"><div><b>Pritesh Hirani <span class="emoji">üöÄ</span></b></div></a>
    <div>
        <a href="index.html#profile" class="nav-link"><span class="emoji">üë®‚Äçüíª</span> Profile</a>
        <a href="index.html#experience" class="nav-link"><span class="emoji">üíº</span> Experience</a>
        <a href="index.html#skills" class="nav-link"><span class="emoji">üõ†Ô∏è</span> Skills</a>
        <a href="index.html#projects" class="nav-link"><span class="emoji">üéØ</span> Projects</a>
        <a href="index.html#knowledge" class="nav-link"><span class="emoji">üß†</span> Knowledge Base</a>
        <a href="learn.html" class="nav-link"><span class="emoji">üìñ</span> Learn PD</a>
        <a href="blog.html" class="nav-link"><span class="emoji">üìù</span> Blog</a>
        <a href="games.html" class="nav-link active"><span class="emoji">üéÆ</span> Simulators</a>
        <a href="index.html#contact" class="nav-link"><span class="emoji">üì¨</span> Contact</a>
    </div>
</nav>

    <header class="games-header" id="games-title-header">
        <h1 class="section-title decode-text" data-value="System_Simulations">System_Simulations</h1>
    </header>

    <div class="game-grid" id="main-menu">
        <div class="card-wrapper"><div class="card" style="text-align: center;"><i class="fa-solid fa-brain" style="font-size: 3rem; color: var(--accent-1); margin-bottom: 20px;"></i><h3 style="margin-bottom:15px; font-family:'Space Mono'">Logic Quiz</h3><p style="color:var(--text-secondary); margin-bottom:20px; font-size: 0.9rem;">30s pressure test for VLSI concepts.</p><button class="btn magnetic" onclick="initQuiz()">Initialize</button></div></div>
        <div class="card-wrapper"><div class="card" style="text-align: center;"><i class="fa-solid fa-microchip" style="font-size: 3rem; color: var(--accent-2); margin-bottom: 20px;"></i><h3 style="margin-bottom:15px; font-family:'Space Mono'">Floorplan Master</h3><p style="color:var(--text-secondary); margin-bottom:20px; font-size: 0.9rem;">DRC-clean macro placement challenge.</p><button class="btn magnetic" onclick="initFloorplan()">Initialize</button></div></div>
        <div class="card-wrapper"><div class="card" style="text-align: center;"><i class="fa-solid fa-network-wired" style="font-size: 3rem; color: var(--accent-3); margin-bottom: 20px;"></i><h3 style="margin-bottom:15px; font-family:'Space Mono'">Nano Router</h3><p style="color:var(--text-secondary); margin-bottom:20px; font-size: 0.9rem;">Avoid congestion to route critical nets.</p><button class="btn magnetic" onclick="initRouter()">Initialize</button></div></div>
        <div class="card-wrapper"><div class="card" style="text-align: center;"><i class="fa-solid fa-stopwatch" style="font-size: 3rem; color: #f1c40f; margin-bottom: 20px;"></i><h3 style="margin-bottom:15px; font-family:'Space Mono'">Timing Closure</h3><p style="color:var(--text-secondary); margin-bottom:20px; font-size: 0.9rem;">Resolve Setup/Hold violations via ECO.</p><button class="btn magnetic" onclick="initECO()">Initialize</button></div></div>
    </div>

    <section id="quiz-module" class="module-container">
        <div class="quiz-hud">
            <div class="hud-top"><div class="quiz-timer-container"><svg class="timer-svg"><circle class="timer-circle-bg" cx="30" cy="30" r="28"></circle><circle class="timer-circle-prog" id="timer-bar" cx="30" cy="30" r="28"></circle></svg><div class="timer-text" id="timer-val">30</div></div><button class="stop-btn" onclick="terminateSession()">[ TERMINATE ]</button><div style="font-family: 'Space Mono'; color: var(--accent-1);" id="quiz-progress">Node: 1/4</div></div>
            <h2 id="question-text" style="margin-bottom:40px; color: #fff; font-size: 1.6rem;"></h2><div id="options-grid" class="options-grid"></div>
            <div class="quiz-action-btns"><button id="finish-early" class="btn magnetic" style="background: rgba(255, 0, 127, 0.1); border-color: var(--accent-3); color: var(--accent-3);" onclick="finishQuizEarly()">Submit Early</button><button id="next-q" class="btn magnetic" style="display:none;" onclick="nextQuestion()">Continue <i class="fa-solid fa-chevron-right"></i></button></div>
        </div>
    </section>

    <section id="floorplan-module" class="module-container">
        <div class="quiz-hud">
            <div class="hud-top"><div style="font-family: 'Space Mono'; color: var(--accent-3);">DRC_VIOLATIONS: <span id="ov-count" style="font-weight: bold;">0</span></div><button class="stop-btn" onclick="terminateSession()">[ ABORT ]</button></div>
            <div class="workspace-flex"><div id="chip-core"><div style="position: absolute; width: 100%; height: 100%; background-image: radial-gradient(var(--accent-1) 1px, transparent 1px); background-size: 20px 20px; opacity: 0.1;"></div></div><div id="macro-side-panel"><div style="font-family:'Space Mono'; color:var(--accent-1); font-size: 0.8rem; border-bottom: 1px solid rgba(0,240,255,0.2); padding-bottom:10px; margin-bottom:15px; text-align:center;">MACRO_LIBRARY</div><div id="macro-lib"></div></div></div>
            <button class="btn" style="width:100%; margin-top:40px;" onclick="validateFP()">Run Physical Signoff</button>
        </div>
    </section>

    <section id="router-module" class="module-container">
        <div class="quiz-hud">
            <div class="hud-top"><div style="font-family: 'Space Mono'; color: var(--accent-1);">TRACE_LENGTH: <span id="trace-len">0</span></div><button class="stop-btn" onclick="terminateSession()">[ ABORT ]</button></div>
            <div class="routing-workspace"><p style="color:var(--text-secondary); font-size:0.85rem; text-align:center; margin-bottom: 10px;">Tap adjacent squares to route from <span style="color:var(--accent-2); font-weight:bold;">S</span> to <span style="color:#2ecc71; font-weight:bold;">T</span>.</p><div id="routing-grid" class="routing-grid"></div></div>
            <div class="quiz-action-btns"><button class="btn magnetic" style="background: transparent; color: var(--text-secondary);" onclick="resetRouter()">Clear</button><button class="btn magnetic" style="background: rgba(0, 240, 255, 0.1); color: var(--accent-1); border-color: var(--accent-1);" onclick="initRouter()">New Net</button><button class="btn magnetic" onclick="validateRouter()">Verify</button></div>
        </div>
    </section>

    <section id="eco-module" class="module-container">
        <div class="quiz-hud">
            <div class="hud-top" style="flex-direction: column; gap: 15px; align-items: stretch; margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="font-family: 'Space Mono'; font-weight: bold; color: white; font-size: 1.1rem;">TIMING_REPORT</div>
                    <button class="stop-btn" onclick="terminateSession()">[ ABORT ]</button>
                </div>
                <div class="eco-stats">
                    <div class="eco-stat-box" id="hud-setup">SETUP: <span id="val-setup">0</span>ps</div>
                    <div class="eco-stat-box" id="hud-hold">HOLD: <span id="val-hold">0</span>ps</div>
                    <div class="eco-stat-box" id="hud-area">AREA: <span id="val-area">0</span></div>
                    <div class="eco-stat-box" id="hud-leak">LEAK: <span id="val-leak">0</span></div>
                </div>
            </div>
            
            <p style="color:var(--text-secondary); font-size:0.8rem; text-align:center;">Target: Setup/Hold ‚â• 0ps. Swipe to view path.<br>Tap gates to edit. Tap wires to add buffers, tap buffer to remove.</p>
            
            <div class="eco-schematic" id="eco-schematic-view"></div>
            
            <div class="eco-inspector" id="eco-inspector">
                <div style="color: white; font-family: 'Space Mono'; font-weight: bold; margin-bottom: 10px; border-bottom: 1px dashed rgba(255,255,255,0.2); padding-bottom: 5px;" id="insp-title">Select a cell</div>
                <div class="insp-row"><span class="insp-label">Library:</span><div class="insp-btn-group"><button class="insp-btn" onclick="setVT('SVT')" id="btn-SVT">SVT</button><button class="insp-btn" onclick="setVT('LVT')" id="btn-LVT">LVT</button><button class="insp-btn" onclick="setVT('ULVT')" id="btn-ULVT">ULVT</button><button class="insp-btn" onclick="setVT('ELVT')" id="btn-ELVT">ELVT</button></div></div>
                <div class="insp-row"><span class="insp-label">Drive:</span><div class="insp-btn-group"><button class="insp-btn" onclick="setSize(1)" id="btn-X1">X1</button><button class="insp-btn" onclick="setSize(2)" id="btn-X2">X2</button><button class="insp-btn" onclick="setSize(4)" id="btn-X4">X4</button></div></div>
            </div>
            
            <div class="quiz-action-btns">
                <button class="btn magnetic" style="background: rgba(0, 240, 255, 0.1); color: var(--accent-1); border-color: var(--accent-1);" onclick="initECO()">New Path</button>
                <button class="btn magnetic" onclick="validateECO()">Verify Signoff</button>
            </div>
        </div>
    </section>

    <div class="mission-modal-overlay" id="missionModal">
        <div class="mission-modal">
            <div class="hud-corner c-tl"></div><div class="hud-corner c-tr"></div><div class="hud-corner c-bl"></div><div class="hud-corner c-br"></div>
            <div class="mission-icon" id="modalIcon"></div>
            <h2 class="decode-text" id="modalHeading" data-value="MISSION_COMPLETE">MISSION_COMPLETE</h2>
            <div class="mission-stats"><div class="stat-item"><span class="stat-label">STATUS</span><span class="stat-value" id="statusValue">--</span></div><div class="stat-item"><span class="stat-label">INTEGRITY</span><span class="stat-value" id="integrityValue">--</span></div></div>
            <p id="modalMessage" style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.9rem; line-height: 1.6;"></p>
            <div class="modal-action-btns">
                <button class="btn magnetic" onclick="restartCurrentGame()" style="background: transparent; color: var(--text-secondary); border-color: var(--text-secondary);">Play Again</button>
                <button class="btn magnetic" onclick="location.reload()">Command Center</button>
            </div>
        </div>
    </div>

    <div class="mission-modal-overlay" id="terminateModal">
        <div class="mission-modal" style="border-color: var(--accent-3);">
            <div class="hud-corner c-tl" style="border-color: var(--accent-3);"></div><div class="hud-corner c-tr" style="border-color: var(--accent-3);"></div><div class="hud-corner c-bl" style="border-color: var(--accent-3);"></div><div class="hud-corner c-br" style="border-color: var(--accent-3);"></div>
            <div class="mission-icon" style="color: var(--accent-3); filter: drop-shadow(0 0 10px var(--accent-3));"><i class="fa-solid fa-radiation"></i></div>
            <h2 class="decode-text" id="termHeading" data-value="SYSTEM_OVERRIDE">SYSTEM_OVERRIDE</h2>
            <p style="color: var(--text-secondary); margin: 20px 0 30px; font-size: 0.9rem; line-height: 1.6;">WARNING: Terminating simulation purges logic data. Proceed?</p>
            <div class="modal-action-btns">
                <button class="btn magnetic" onclick="closeTerminateModal()" style="background: transparent; border-color: var(--text-secondary); color: var(--text-secondary);">RESUME</button>
                <button class="btn magnetic" onclick="location.reload()" style="background: var(--accent-3); border-color: var(--accent-3); color: white;">TERMINATE</button>
            </div>
        </div>
    </div>

    <div class="back-to-top" id="backToTop" onclick="scrollToTop()"><i class="fa-solid fa-rocket"></i></div>

    <script src="script.js" defer></script>
    <script>
        // ================= GLOBAL STATE & SOUND ENGINE =================
        let activeGameModule = ''; // Tracks which game is playing for the "Play Again" button

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playTone(freq, type, duration, vol=0.1) { if(audioCtx.state === 'suspended') audioCtx.resume(); const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain(); osc.type = type; osc.frequency.setValueAtTime(freq, audioCtx.currentTime); gain.gain.setValueAtTime(vol, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration); osc.connect(gain); gain.connect(audioCtx.destination); osc.start(); osc.stop(audioCtx.currentTime + duration); }
        
        const sfx = { 
            click: () => playTone(800, 'sine', 0.05, 0.03),
            correct: () => { playTone(600, 'square', 0.1, 0.05); setTimeout(()=>playTone(800, 'square', 0.15, 0.05), 100); }, 
            wrong: () => playTone(150, 'sawtooth', 0.3, 0.1), 
            pickup: () => playTone(300, 'sine', 0.1, 0.05), 
            drop: () => playTone(150, 'sine', 0.1, 0.1), 
            drcError: () => playTone(200, 'square', 0.2, 0.05), 
            pass: () => { playTone(440, 'sine', 0.3); playTone(554, 'sine', 0.3); playTone(659, 'sine', 0.5); }, 
            fail: () => { playTone(200, 'sawtooth', 0.5); playTone(180, 'sawtooth', 0.5); } 
        };
        
        // Global Click Sound Listener for UI
        document.addEventListener('click', (e) => {
            if(e.target.tagName === 'BUTTON' || e.target.classList.contains('btn') || e.target.classList.contains('insp-btn')) {
                sfx.click();
            }
        });

        function enterImmersiveMode(moduleID) { 
            if(audioCtx.state === 'suspended') audioCtx.resume(); 
            document.getElementById('navbar').style.display = 'none'; 
            document.getElementById('main-menu').style.display = 'none'; 
            document.getElementById('games-title-header').style.display = 'none'; 
            document.getElementById(moduleID).style.display = 'block'; 
        }

        // ================= MODAL LOGIC =================
        function showMissionDebrief(isSuccess, integrity, message) {
            const modal = document.getElementById('missionModal'); document.getElementById('statusValue').innerText = isSuccess ? "CLEARED" : "FAILED"; document.getElementById('statusValue').style.color = isSuccess ? "var(--accent-1)" : "var(--accent-3)"; document.getElementById('integrityValue').innerText = integrity; document.getElementById('modalMessage').innerText = message;
            const icon = document.getElementById('modalIcon'), heading = document.getElementById('modalHeading'); heading.setAttribute('data-value', isSuccess ? "MISSION_COMPLETE" : "MISSION_FAILED");
            if (isSuccess) { icon.innerHTML = '<i class="fa-solid fa-circle-check"></i>'; icon.style.color = "var(--accent-1)"; modal.querySelector('.mission-modal').style.borderColor = "var(--accent-1)"; sfx.pass(); } else { icon.innerHTML = '<i class="fa-solid fa-triangle-exclamation"></i>'; icon.style.color = "var(--accent-3)"; modal.querySelector('.mission-modal').style.borderColor = "var(--accent-3)"; sfx.fail(); }
            modal.classList.add('active'); if(typeof decodeText === "function") decodeText(heading);
        }

        function restartCurrentGame() {
            document.getElementById('missionModal').classList.remove('active');
            if(activeGameModule === 'quiz') initQuiz();
            else if(activeGameModule === 'floorplan') initFloorplan();
            else if(activeGameModule === 'router') initRouter();
            else if(activeGameModule === 'eco') initECO();
        }

        function terminateSession() { document.getElementById('terminateModal').classList.add('active'); if(typeof decodeText === "function") decodeText(document.getElementById('termHeading')); sfx.wrong(); }
        function closeTerminateModal() { document.getElementById('terminateModal').classList.remove('active'); }

        // ================= 1. QUIZ =================
        const quizData = [ { q: "Which violation occurs if data arrives at the captura flop too late?", a: "Setup Violation", o: ["Setup Violation", "Hold Violation", "DRC Error", "LVS Error"] }, { q: "What is the primary purpose of Decaps in Physical Design?", a: "Mitigate IR Drop", o: ["Fix Hold", "Mitigate IR Drop", "Reduce Area", "Increase Clock Speed"] }, { q: "LVS in Physical Verification stands for?", a: "Layout vs Schematic", o: ["Logic vs Silicon", "Layout vs Schematic", "Local Via Shift", "Layer Voltage Sync"] }, { q: "Which metal layers are typical for Power/Ground Mesh?", a: "Upper Thick Metals", o: ["Lower Thin Metals", "Poly Layers", "Upper Thick Metals", "M1 only"] } ];
        let qIndex = 0, score = 0, timer, timeLeft = 30;
        function initQuiz() { activeGameModule = 'quiz'; enterImmersiveMode('quiz-module'); qIndex = 0; score = 0; loadQ(); }
        function loadQ() { timeLeft = 30; document.getElementById('timer-val').innerText = timeLeft; document.getElementById('timer-bar').style.strokeDashoffset = 0; clearInterval(timer); timer = setInterval(() => { timeLeft--; document.getElementById('timer-val').innerText = timeLeft; document.getElementById('timer-bar').style.strokeDashoffset = 176 - (timeLeft/30)*176; if(timeLeft <= 0) { clearInterval(timer); checkA(null); } }, 1000); document.getElementById('question-text').innerText = quizData[qIndex].q; document.getElementById('quiz-progress').innerText = `Node: ${qIndex + 1}/${quizData.length}`; const grid = document.getElementById('options-grid'); grid.innerHTML = ''; [...quizData[qIndex].o].sort(() => Math.random() - 0.5).forEach(opt => { const b = document.createElement('div'); b.className = 'option-card'; b.innerText = opt; b.onclick = () => checkA(opt, b); grid.appendChild(b); }); document.getElementById('next-q').style.display = 'none'; }
        function checkA(opt, el) { clearInterval(timer); const correct = quizData[qIndex].a; if(opt === correct) { score++; sfx.correct(); } else { sfx.wrong(); } document.querySelectorAll('.option-card').forEach(card => { if(card.innerText === correct) card.classList.add('correct'); card.style.pointerEvents = 'none'; }); if(opt !== correct && el) el.classList.add('wrong'); document.getElementById('next-q').style.display = 'block'; }
        function nextQuestion() { qIndex++; if(qIndex < quizData.length) loadQ(); else finishQuizEarly(); }
        function finishQuizEarly() { clearInterval(timer); const pct = Math.round((score / quizData.length) * 100); showMissionDebrief(pct >= 50, pct+"%", pct >= 50 ? "Logic gates synchronized." : "Critical logic errors detected."); }

        // ================= 2. FLOORPLAN =================
        const macros = [ { n: "SRAM_A", w: 80, h: 110 }, { n: "SRAM_B", w: 80, h: 110 }, { n: "CPU_CORE", w: 150, h: 150 }, { n: "PLL_0", w: 60, h: 60 } ];
        let activeM = null, offset = {x:0, y:0};
        function initFloorplan() { activeGameModule = 'floorplan'; enterImmersiveMode('floorplan-module'); const lib = document.getElementById('macro-lib'); lib.innerHTML = ''; macros.forEach(m => { const d = document.createElement('div'); d.className = 'macro'; d.style.width = m.w+'px'; d.style.height = m.h+'px'; d.style.position = 'relative'; d.innerText = m.n; d.onmousedown = startDrag; d.ontouchstart = startDrag; lib.appendChild(d); }); }
        function startDrag(e) { if (e.type === 'touchstart') e.preventDefault(); activeM = e.target; sfx.pickup(); const r = activeM.getBoundingClientRect(); const cx = e.type.includes('touch') ? e.touches[0].clientX : e.clientX, cy = e.type.includes('touch') ? e.touches[0].clientY : e.clientY; offset = { x: cx - r.left, y: cy - r.top }; if(activeM.parentElement.id === 'macro-lib') { document.getElementById('chip-core').appendChild(activeM); activeM.style.position = 'absolute'; } document.onmousemove = doDrag; document.onmouseup = stopDrag; document.ontouchmove = doDrag; document.ontouchend = stopDrag; }
        function doDrag(e) { if(!activeM) return; if (e.type === 'touchmove') e.preventDefault(); const cx = e.type.includes('touch') ? e.touches[0].clientX : e.clientX, cy = e.type.includes('touch') ? e.touches[0].clientY : e.clientY; const core = document.getElementById('chip-core').getBoundingClientRect(); let x = cx - core.left - offset.x, y = cy - core.top - offset.y; x = Math.max(0, Math.min(x, core.width - activeM.offsetWidth)); y = Math.max(0, Math.min(y, core.height - activeM.offsetHeight)); activeM.style.left = x+'px'; activeM.style.top = y+'px'; checkDRC(); }
        function stopDrag() { activeM = null; document.onmousemove = null; document.onmouseup = null; document.ontouchmove = null; document.ontouchend = null; parseInt(document.getElementById('ov-count').innerText) > 0 ? sfx.drcError() : sfx.drop(); }
        function checkDRC() { const ms = document.querySelectorAll('#chip-core .macro'); let ov = 0; ms.forEach(m => m.classList.remove('macro-overlap')); for(let i=0; i < ms.length; i++) { for(let j=i+1; j < ms.length; j++) { const r1 = ms[i].getBoundingClientRect(), r2 = ms[j].getBoundingClientRect(); if(!(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom)) { ms[i].classList.add('macro-overlap'); ms[j].classList.add('macro-overlap'); ov++; } } } document.getElementById('ov-count').innerText = ov; }
        function validateFP() { const ov = parseInt(document.getElementById('ov-count').innerText); const placed = document.querySelectorAll('#chip-core .macro').length; if(placed < macros.length) showMissionDebrief(false, "0%", "DRC ERROR: All macros must be placed in core."); else if(ov > 0) showMissionDebrief(false, "40%", "SIGNOFF FAILED: Violations detected."); else showMissionDebrief(true, "100%", "SIGNOFF SUCCESSFUL: GDSII Generated."); }

        // ================= 3. ROUTER =================
        let startNode = [0, 0], endNode = [5, 5], obstacles = [], routePath = [], isRouteComplete = false;
        function initRouter() { activeGameModule = 'router'; enterImmersiveMode('router-module'); let valid = false; while(!valid) { startNode = [Math.floor(Math.random()*6), Math.floor(Math.random()*6)]; endNode = [Math.floor(Math.random()*6), Math.floor(Math.random()*6)]; if(Math.abs(startNode[0]-endNode[0]) + Math.abs(startNode[1]-endNode[1]) < 4) continue; let numObs = Math.floor(Math.random() * 9) + 6; obstacles = []; for(let i=0; i<numObs; i++) { let ox = Math.floor(Math.random()*6), oy = Math.floor(Math.random()*6); let key = `${ox},${oy}`; if((ox!==startNode[0] || oy!==startNode[1]) && (ox!==endNode[0] || oy!==endNode[1]) && !obstacles.includes(key)) obstacles.push(key); } let q = [[startNode[0], startNode[1]]]; let vis = new Set([`${startNode[0]},${startNode[1]}`]); let ok = false; while(q.length > 0) { let [cx, cy] = q.shift(); if(cx === endNode[0] && cy === endNode[1]) { ok = true; break; } for(let [dx, dy] of [[0,1],[1,0],[0,-1],[-1,0]]) { let nx = cx+dx, ny = cy+dy, key = `${nx},${ny}`; if(nx>=0 && nx<6 && ny>=0 && ny<6 && !vis.has(key) && !obstacles.includes(key)) { vis.add(key); q.push([nx, ny]); } } } if(ok) valid = true; } resetRouter(); }
        function resetRouter() { routePath = [{x: startNode[0], y: startNode[1]}]; isRouteComplete = false; renderGrid(); }
        function renderGrid() { const grid = document.getElementById('routing-grid'); grid.innerHTML = ''; for(let y=0; y<6; y++) { for(let x=0; x<6; x++) { const cell = document.createElement('div'); cell.className = 'route-cell'; cell.dataset.x = x; cell.dataset.y = y; if(x === startNode[0] && y === startNode[1]) { cell.classList.add('start'); cell.innerText = 'S'; } else if(x === endNode[0] && y === endNode[1]) { cell.classList.add('end'); cell.innerText = 'T'; } else if(obstacles.includes(`${x},${y}`)) { cell.classList.add('obstacle'); cell.innerHTML = '<i class="fa-solid fa-xmark"></i>'; } const pi = routePath.findIndex(p => p.x === x && p.y === y); if(pi > 0) cell.classList.add('path'); if(pi === routePath.length - 1 && routePath.length > 1) cell.classList.add('head'); cell.onclick = () => tapRoute(x, y); grid.appendChild(cell); } } document.getElementById('trace-len').innerText = routePath.length - 1; }
        function tapRoute(x, y) { if(isRouteComplete) return; const ln = routePath[routePath.length - 1]; if(x === ln.x && y === ln.y && routePath.length > 1) { routePath.pop(); sfx.drop(); renderGrid(); return; } if(Math.abs(x - ln.x) + Math.abs(y - ln.y) === 1) { if(obstacles.includes(`${x},${y}`) || routePath.some(p => p.x === x && p.y === y)) { sfx.drcError(); return; } routePath.push({x, y}); sfx.pickup(); if(x === endNode[0] && y === endNode[1]) { isRouteComplete = true; sfx.correct(); } renderGrid(); } else { sfx.wrong(); } }
        function validateRouter() { if(isRouteComplete) showMissionDebrief(true, "100%", "ROUTING SUCCESSFUL: Net connected."); else showMissionDebrief(false, "OPEN NET", "SIGNOFF FAILED: Trace did not reach target."); }

        // ================= 4. PROCEDURAL GUI ECO ENGINE =================
        const vtData = { 'SVT': {s: 1.0, l: 1.0}, 'LVT': {s: 1.3, l: 2.5}, 'ULVT': {s: 1.6, l: 5.0}, 'ELVT': {s: 2.0, l: 10.0} };
        const szData = { 1: {s: 1.0, a: 1.0}, 2: {s: 1.4, a: 2.0}, 4: {s: 1.8, a: 4.0} };
        const gateTypes = ["NAND2", "NOR2", "AOI21", "OAI22", "INV", "MUX2"];
        const vts = ["SVT", "LVT", "ULVT", "ELVT"];
        const szs = [1, 2, 4];

        let reqTime = 0, reqHold = 0, maxArea = 0, maxLeak = 0;
        let cells = [], nets = [], selectedCellIdx = -1;

        function initECO() {
            activeGameModule = 'eco';
            enterImmersiveMode('eco-module');
            document.getElementById('eco-inspector').classList.remove('visible');
            selectedCellIdx = -1;
            
            // Randomize Data Path (4 to 7 cells)
            let numCells = Math.floor(Math.random() * 4) + 4; 
            cells = []; nets = [];
            let initDelay = 0, initArea = 0, initLeak = 0;

            for(let i=0; i<numCells; i++) {
                let d = Math.floor(Math.random() * 20) + 20; 
                let p = Math.floor(Math.random() * 3) + 1;   
                let a = Math.floor(Math.random() * 3) + 1;   
                let type = gateTypes[Math.floor(Math.random() * gateTypes.length)];
                let randomVT = vts[Math.floor(Math.random() * vts.length)];
                let randomSize = szs[Math.floor(Math.random() * szs.length)];
                
                cells.push({ id: "U"+(i+1), type: type, baseDelay: d, basePwr: p, baseArea: a, vt: randomVT, size: randomSize });
                
                let initialBufs = Math.floor(Math.random() * 3);
                nets.push({ id: "n"+(i+1), buf: initialBufs });
                
                initDelay += (d / (vtData[randomVT].s * szData[randomSize].s)) + (initialBufs * 15);
                initArea += (a * szData[randomSize].a) + (initialBufs * 2);
                initLeak += (p * szData[randomSize].a * vtData[randomVT].l) + (initialBufs * 1);
            }
            nets.push({ id: "n"+(numCells+1), buf: Math.floor(Math.random() * 2) });
            initDelay += nets[numCells].buf * 15; initArea += nets[numCells].buf * 2; initLeak += nets[numCells].buf * 1;

            // Scenario Physics: Setup Viol, Hold Viol, or Squeeze
            let scenario = Math.random();
            if (scenario < 0.33) {
                reqTime = Math.floor(initDelay * 0.7); reqHold = Math.floor(initDelay * 0.4); 
            } else if (scenario < 0.66) {
                reqTime = Math.floor(initDelay * 1.5); reqHold = Math.floor(initDelay * 1.15); 
            } else {
                reqTime = Math.floor(initDelay * 0.9); reqHold = Math.floor(initDelay * 0.85); 
            }
            
            maxArea = Math.floor(initArea * 2.0);
            maxLeak = Math.floor(initLeak * 2.5);

            updateTiming();
        }

        function updateTiming() {
            let totalDelay = 0, totalArea = 0, totalLeak = 0;
            cells.forEach(c => {
                totalDelay += c.baseDelay / (vtData[c.vt].s * szData[c.size].s);
                totalLeak += c.basePwr * szData[c.size].a * vtData[c.vt].l;
                totalArea += c.baseArea * szData[c.size].a;
            });
            nets.forEach(n => { totalDelay += (n.buf * 15); totalArea += (n.buf * 2); totalLeak += (n.buf * 1); });

            totalDelay = Math.round(totalDelay); totalArea = Math.round(totalArea); totalLeak = Math.round(totalLeak);
            let setupSlack = reqTime - totalDelay, holdSlack = totalDelay - reqHold;

            document.getElementById('val-setup').innerText = setupSlack; document.getElementById('val-hold').innerText = holdSlack;
            document.getElementById('val-area').innerText = totalArea + "/" + maxArea; document.getElementById('val-leak').innerText = totalLeak + "/" + maxLeak;

            document.getElementById('hud-setup').className = setupSlack < 0 ? "eco-stat-box eco-slack-alert" : "eco-stat-box";
            document.getElementById('hud-hold').className = holdSlack < 0 ? "eco-stat-box eco-slack-alert" : "eco-stat-box";
            document.getElementById('hud-area').style.borderColor = totalArea > maxArea ? "var(--accent-3)" : "rgba(255,255,255,0.1)";
            document.getElementById('hud-leak').style.borderColor = totalLeak > maxLeak ? "var(--accent-3)" : "rgba(255,255,255,0.1)";

            renderSchematic();
        }

        function renderSchematic() {
            const view = document.getElementById('eco-schematic-view');
            view.innerHTML = '<div class="eco-flop">FF1<br>Launch</div>';
            for(let i=0; i<cells.length; i++) {
                let bufHTML = '';
                for(let b=0; b<nets[i].buf; b++) bufHTML += `<div class="eco-buffer" onclick="removeBuffer(event, ${i})"></div>`;
                view.innerHTML += `<div class="eco-node-wrapper"><div class="eco-wire" onclick="addBuffer(${i})">${bufHTML}</div></div>`;
                
                const c = cells[i];
                view.innerHTML += `
                    <div class="${i === selectedCellIdx ? "eco-gate active" : "eco-gate"}" onclick="openInspector(${i})">
                        <div class="gate-title">${c.id}<br><span style="font-size: 0.6rem; color: #888;">${c.type}</span></div>
                        <div class="gate-specs"><span>X${c.size}</span><span class="spec-vt">${c.vt}</span></div>
                    </div>
                `;
            }
            let finBufHTML = '';
            for(let b=0; b<nets[cells.length].buf; b++) finBufHTML += `<div class="eco-buffer" onclick="removeBuffer(event, ${cells.length})"></div>`;
            view.innerHTML += `<div class="eco-node-wrapper"><div class="eco-wire" onclick="addBuffer(${cells.length})">${finBufHTML}</div></div><div class="eco-flop">FF2<br>Capture</div>`;
        }

        // Buffer Adding and Removing logic specifically tuned for mobile
        function addBuffer(idx) { nets[idx].buf++; sfx.pickup(); updateTiming(); }
        function removeBuffer(e, idx) { e.stopPropagation(); e.preventDefault(); if(nets[idx].buf > 0) { nets[idx].buf--; sfx.drop(); updateTiming(); } }

        function openInspector(idx) {
            selectedCellIdx = idx; const c = cells[idx];
            document.getElementById('eco-inspector').classList.add('visible');
            document.getElementById('insp-title').innerText = `Edit Gate: ${c.id}`; sfx.pickup();
            ['SVT','LVT','ULVT','ELVT'].forEach(v => document.getElementById('btn-'+v).classList.remove('active'));
            [1,2,4].forEach(s => document.getElementById('btn-X'+s).classList.remove('active'));
            document.getElementById('btn-'+c.vt).classList.add('active'); document.getElementById('btn-X'+c.size).classList.add('active');
            renderSchematic();
        }

        function setVT(vt) { if(selectedCellIdx > -1) { cells[selectedCellIdx].vt = vt; openInspector(selectedCellIdx); updateTiming(); } }
        function setSize(sz) { if(selectedCellIdx > -1) { cells[selectedCellIdx].size = sz; openInspector(selectedCellIdx); updateTiming(); } }

        function validateECO() {
            let setup = parseInt(document.getElementById('val-setup').innerText); let hold = parseInt(document.getElementById('val-hold').innerText);
            let area = parseInt(document.getElementById('val-area').innerText.split('/')[0]); let leak = parseInt(document.getElementById('val-leak').innerText.split('/')[0]);
            if(area > maxArea || leak > maxLeak) showMissionDebrief(false, "BUDGET FAIL", "SIGNOFF FAILED: Area or Leakage limits exceeded.");
            else if (setup < 0 || hold < 0) showMissionDebrief(false, "SLACK FAIL", "SIGNOFF FAILED: Setup or Hold time violations exist.");
            else showMissionDebrief(true, "TIMING MET", "SIGNOFF SUCCESSFUL: Netlist modified without violating constraints.");
        }
    </script>
</body>
</html>
